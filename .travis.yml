language: generic
os:
- linux
- osx
env:
  global:
  - THIS_PACKAGE=chasm
  - TRAVIS_PYTHON_VERSION="2.7"
  - NUMPY_VERSION="1.9"
  - secure: UIQGKu6Sih9GIYRXrbbRsTkkh7ihnqB93NmaQXPp2le4n6nIm6tGgVDQ11kKAf961tVay9gZmEqdvdqdazaD1RoxH5GZGwugr6bNc4mobXUFJKhumcH+T5C5dsqI/shc1ZHaZiNZaJZMzC32p/OC29g5OCMehHMWMpIFWvUc4+XFqD4t/7nXDJr4CGKrZ+wbe8abAK6xMRE6Aj0JjHx9nrpnFGElY8ZZASgnxuCzwkZHFLMDtK744lRQ2FqkpLVqqZrndbm5xmkkITLi/2gw+UNQgSiG+xnlhw6Yhy38jIEddaM7ih9s9nnfil2Mde2XXHBgFTMEVudh6guBlxUzAdy/Em+WHtl4+H99o2LWMfg6CBWSXZdWVSTIdj6CdVMzTbfDFJXzbDlTowU7j7KuBKebp6MTObshYOZUPvUyapJZZhBCxfJ4lmRw26pu1HQdInqfUlhmqrg6VubWqxPdsUxuQGAMbKioOqTw9mJmKJRbBY/RwBfdXyE3/RRkWjGf9goMAQ8gYZN7KHUUVraGqY3jo0GdpHqOmK/gTsKPbF6OdWjAE78A6YvsdoBd5vbQaQUgXw4BfvyO6SJkdAjdOExxVYk9PZXFg38vDMlUh+A5f8wRVSMwTWW/X2SBSyr3JsabxBrwlkJN07+WfAW6JKBKlHHyFAaq6uFSB1VAewY=
sudo: false
install:
- bash ci/travis/install_python.sh $HOME/miniconda
- export PATH="$HOME/miniconda/bin:$PATH"
script:
- conda build recipe -c conda-forge -c csdms-stack
after_success:
- if [[ $TRAVIS_BRANCH == "master" ]]; then export CHANNEL="main"; fi
- bash ci/travis/deploy_to_anaconda.sh $THIS_PACKAGE
